<html lang="an" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>客户信息</title>
  <!-- Meta -->
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />

  <meta name="description" content="AppUI - Admin Dashboard Template & UI Framework" />
  <meta name="author" content="rustheme" />
  <meta name="robots" content="noindex, nofollow" />

  <!-- Favicons -->
  <link rel="apple-touch-icon" th:href="@{/assets/img/favicons/apple-touch-icon.png}" />
  <link rel="icon" th:href="@{/assets/img/favicons/favicon.ico}" />

  <!-- Google fonts -->
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,900%7CRoboto+Slab:300,400%7CRoboto+Mono:400" />

  <!-- Page JS Plugins CSS -->
  <link rel="stylesheet" th:href="@{/assets/js/plugins/slick/slick.min.css}" />
  <link rel="stylesheet" th:href="@{/assets/js/plugins/slick/slick-theme.min.css}" />

  <!-- AppUI CSS stylesheets -->
  <link rel="stylesheet" id="css-font-awesome" th:href="@{/assets/css/font-awesome.css}" />
  <link rel="stylesheet" id="css-ionicons" th:href="@{/assets/css/ionicons.css}" />
  <link rel="stylesheet" id="css-bootstrap" th:href="@{/assets/css/bootstrap.css}" />
  <link rel="stylesheet" id="css-app" th:href="@{/assets/css/app.css}" />
  <link rel="stylesheet" id="css-app-custom" th:href="@{/assets/css/app-custom.css}" />
</head>
<body class="app-ui layout-has-drawer layout-has-fixed-header">
<div class="container-fluid p-y-md">
  <div class="row">
    <div class="col-lg-12">
      <!-- Hover Table -->
      <form class="form-horizontal m-t-sm" method="post" id="form">
        <div class="card">
          <div class="card-header" >
            <div>
              <!--            <input id="add" type="button" class="btn btn-app-blue" value="新增" data-toggle="modal" data-target="#modal-add" />-->
              <input id="add" type="button" class="btn btn-app-blue" value="新增"/>
              <input id="del" type="button" class="btn btn-danger" value="删除" />
              <input id="export" type="button" class="btn btn-app-green" value="导出" />
              <input id="im" type="button" class="btn btn-primary" value="导入" href=""/>
            </div>
            <div class="row">
              <div class="col-md-4 col-md-offset-6">
                <p class="text-right">
                  <input type="text" name="keywords" class="form-control" placeholder="请输入要查询的客户姓名" id="keywords" th:value="${param.keywords}">
                </p>
              </div>
              <div class="col-md-1">
                <p class="text-left"><button class="btn btn-primary" id="search">搜索</button></p>
              </div>
            </div>
          </div>
          <div class="card-block">
            <table class="table table-hover">
              <thead>
              <tr>
                <th class="hidden-xs w-15" style="width: 50px;"><label for="selectAll">
                  <input type="checkbox" id="selectAll">
                </label>
                </th>
                <th>序号</th>
                <th class="hidden-xs w-15">姓名</th>
                <th class="hidden-xs w-15">性别</th>
                <th class="hidden-xs w-15">生日</th>
                <th class="hidden-xs w-15">电话</th>
                <th class="hidden-xs w-15">邮箱</th>
                <th class="hidden-xs w-15" style="width: 100px;">操作</th>
              </tr>
              </thead>
              <tbody>
              <tr th:each="customer,v: ${pageInfo.list}">
                <td class="text-center"><label>
                  <input type="checkbox" th:value="${customer.id}" name="chk">
                </label></td>
                <td th:text="${v.index+1}"></td>
                <td class="hidden-xs" th:text="${customer.name}" ></td>
                <td class="hidden-xs" th:text="${customer.sex=='1'?'男':'女'}" ></td>
                <td class="hidden-xs" th:text="${customer.birthday}" ></td>
                <td class="hidden-xs" th:text="${customer.telephone}" ></td>
                <td class="hidden-xs" th:text="${customer.email}" ></td>
                <td class="text-center">
                  <div class="btn-group">
                    <button class="btn btn-xs btn-default" type="button"  title="Edit client"  data-toggle="modal" data-target="#modal-normal" ><i class="ion-edit"></i></button>
                    <button class="btn btn-xs btn-default" type="submit" data-toggle="tooltip" title="Remove client" name="delone" th:value="${customer.id}"><i class="ion-close"></i></button>
                  </div>
                </td>
              </tr>
              </tbody>
            </table>
            <div class="card-block">
              <nav>
                <ul class="pagination pagination-sm">
                  <li th:if="${pageInfo.hasPreviousPage}">
                    <a th:href="@{/customer/list/${(pageInfo.pageNum)-1}}"><i class="ion-chevron-left"></i></a>
                  </li>
                  <li class="disabled" th:if="${not pageInfo.hasPreviousPage}">
                    <a href="javascript:void(0)"><i class="ion-chevron-left"></i></a>
                  </li>
                  <li th:each="pn,v:${pageInfo.navigatepageNums}" th:class="${pn==pageInfo.pageNum?'active':''}">
                    <a th:href="@{/customer/list/${pn}}" th:text="${pn}"></a>
                  </li>
                  <li th:if="${pageInfo.hasNextPage}">
                    <a th:href="@{/customer/list/${pageInfo.pageNum+1}}"><i class="ion-chevron-right"></i></a>
                  </li>
                  <li class="disabled" th:if="${not pageInfo.hasNextPage}">
                    <a href="javascript:void(0)"><i class="ion-chevron-right"></i></a>
                  </li>
                </ul>
                <ul>
                  <li>当前第<span th:text="${((pageInfo.pageNum)-1)*pageInfo.pageSize+1}"></span>条——第<span th:text="${pageInfo.hasNextPage?pageInfo.pageNum*pageInfo.pageSize:pageInfo.total}"></span>条记录/共<span th:text="${pageInfo.total}"></span>条记录</li>
                  <li >当前共<span th:text="${pageInfo.pages}"></span>页</li>
                </ul>
              </nav>
            </div>

          </div>
          <!-- .card-block -->
        </div>
      </form>
      <!-- .card -->
      <!-- End Hover Table -->
    </div>
  </div>
</div>

<!-- Normal Modal -->
<!-- End Apps Modal -->
<script src="/assets/js/core/jquery.min.js"></script>
<script src="/assets/js/core/bootstrap.min.js"></script>
<script src="/assets/js/core/jquery.slimscroll.min.js"></script>
<script src="/assets/js/core/jquery.scrollLock.min.js"></script>
<script src="/assets/js/core/jquery.placeholder.min.js"></script>
<script src="/assets/js/app.js"></script>
<script src="/assets/js/app-custom.js"></script>
<!-- Page Plugins -->
<script src="/assets/js/plugins/slick/slick.min.js"></script>
<script src="/assets/js/plugins/chartjs/Chart.min.js"></script>
<script src="/assets/js/plugins/flot/jquery.flot.min.js"></script>
<script src="/assets/js/plugins/flot/jquery.flot.pie.min.js"></script>
<script src="/assets/js/plugins/flot/jquery.flot.stack.min.js"></script>
<script src="/assets/js/plugins/flot/jquery.flot.resize.min.js"></script>
<script>
  $(function() {
    $("#add").click(function () {
      location.href = "/customer/add";
    });
    $("button[name=delone]").click(function () {
      var id = $(this).val();
      if (confirm("确定要删除吗")) {
        alert(id);
        location.href = "/customer/delete?id=" + id;
      }
    });
    $("#export").click(function() {
      if (confirm("是否导出")){
        location.href = "/customer/export";
      }
    });
    $("#im").click(function (){
      location.href = "/customer/import";
    })
    $("#search").click(function () {
      var keywords = $("#keywords").val();
      if (keywords == "") {
        alert("请输入要查询的客户姓名！");
      } else {
        location.href = "/customer/queryName?keywords=" + keywords;
      }
    });
    $("#del").click(function () {
      let ids = "";
      $("input[name=chk]:checked").each(function () {
        ids += $(this).val() + ",";
      });
      if (ids == "") {
        alert("请输入要删除的数据！");
      } else {
        if (confirm("确定要删除吗？")) {
          location.href = "/customer/deleteAll/" + ids.substring(0, ids.length - 1);
        }
      }
    });
    $("#selectAll").click(function () {
      let flag = $(this).prop("checked");
      $("input[name=chk]").each(function () {
        $(this).prop("checked", flag);
      });
    });
    $("#sum").onsubmit(function () {
      var CityName = $("input[name=name]").val();
      if (CityName == null) {
        alert("请输入城市名！！！");
        $("input[name=name]").focus;
      }
    })
  });
</script>
</body>
</html>
