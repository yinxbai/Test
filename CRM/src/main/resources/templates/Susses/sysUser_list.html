<html lang="an" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>用户信息</title>
  <!-- Meta -->
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />

  <meta name="description" content="AppUI - Admin Dashboard Template & UI Framework" />
  <meta name="author" content="rustheme" />
  <meta name="robots" content="noindex, nofollow" />

  <!-- Favicons -->
  <link rel="apple-touch-icon" th:href="@{/assets/img/favicons/apple-touch-icon.png}" />
  <link rel="icon" th:href="@{/assets/img/favicons/favicon.ico}" />

  <!-- Google fonts -->
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,900%7CRoboto+Slab:300,400%7CRoboto+Mono:400" />

  <!-- Page JS Plugins CSS -->
  <link rel="stylesheet" th:href="@{/assets/js/plugins/slick/slick.min.css}" />
  <link rel="stylesheet" th:href="@{/assets/js/plugins/slick/slick-theme.min.css}" />

  <!-- AppUI CSS stylesheets -->
  <link rel="stylesheet" id="css-font-awesome" th:href="@{/assets/css/font-awesome.css}" />
  <link rel="stylesheet" id="css-ionicons" th:href="@{/assets/css/ionicons.css}" />
  <link rel="stylesheet" id="css-bootstrap" th:href="@{/assets/css/bootstrap.css}" />
  <link rel="stylesheet" id="css-app" th:href="@{/assets/css/app.css}" />
  <link rel="stylesheet" id="css-app-custom" th:href="@{/assets/css/app-custom.css}" />
</head>
<body class="app-ui layout-has-drawer layout-has-fixed-header">
<div class="container-fluid p-y-md">
  <div class="row">
    <div class="col-lg-12">
      <!-- Hover Table -->
      <form class="form-horizontal m-t-sm"  method="post" id="form">
        <div class="card">
          <div class="card-header" >
            <div>
              <input id="add" type="button" class="btn btn-app-blue" value="新增" data-toggle="modal" data-target="#modal-add" />
<!--              <input id="add" type="button" class="btn btn-app-blue" value="新增"/>-->
              <input id="del" type="button" class="btn btn-danger" value="删除" />
              <input id="export" type="button" class="btn btn-app-green" value="导出" />
              <input id="import" type="button" class="btn btn-primary" value="导入" />
            </div>
            <div class="row">
              <div class="col-md-4 col-md-offset-6">
                <p class="text-right">
                  <input type="text" name="keywords" class="form-control" placeholder="请输入要查询的用户姓名" id="keywords" th:value="${param.keywords}">
                </p>
              </div>
              <div class="col-md-1">
                <p class="text-left"><button class="btn btn-primary" id="search">搜索</button></p>
              </div>
            </div>
          </div>
          <div class="card-block">
            <table class="table table-hover">
              <thead>
              <tr>
                <th class="hidden-xs w-15" style="width: 50px;"><label for="selectAll">
                  <input type="checkbox" id="selectAll">
                </label>
                </th>
                <th>序号</th>
                <th class="hidden-xs w-15">账户</th>
                <th class="hidden-xs w-15">密码</th>
                <th class="hidden-xs w-15">姓名</th>
                <th class="hidden-xs w-15">照片</th>
                <th class="hidden-xs w-15">角色</th>
                <th class="hidden-xs w-15" style="width: 100px;">操作</th>
              </tr>
              </thead>
              <tbody>
              <tr th:each="s,v: ${list}">
                <td class="text-center"><label>
                  <input type="checkbox" th:value="${s.id}" name="chk">
                </label></td>
                <td th:text="${v.index+1}"></td>
                <td class="hidden-xs" th:text="${s.account}" ></td>
                <td class="hidden-xs" th:text="${s.password}" ></td>
                <td class="hidden-xs" th:text="${s.name}" ></td>
                <td class="hidden-xs" th:text="${s.photo}" ></td>
                <td class="hidden-xs" th:text="${s.role==1?'普通用户':'管理员'}" ></td>
                <td class="text-center">
                  <div class="btn-group">
                    <button class="btn btn-xs btn-default" type="button" data-toggle="tooltip"  title="删除" name="dele" th:value="${s.id}"><i class="ion-close"></i></button>
                  </div>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
          <!-- .card-block -->
        </div>
      </form>
      <!-- .card -->
      <!-- End Hover Table -->
    </div>
  </div>
</div>

<!-- Normal Modal -->

<div class="modal" id="modal-add" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="row">
        <div class="col-lg-12">
          <div class="card-header bg-green bg-inverse">
            <h4>客户添加</h4>
            <ul class="card-actions">
              <li>
                <button data-dismiss="modal" type="button" onclick="window.close()"><i class="ion-close"></i></button>
              </li>
            </ul>
          </div>
          <div class="card">
            <div class="card-block">
              <form class="js-validation-bootstrap form-horizontal" action="/sysUser/add" method="post" enctype="multipart/form-data">
                <input type="hidden" name="id" th:value="${id}">
                <div class="form-group">
                  <label class="col-md-4 control-label" for="Account">Account <span class="text-orange">*</span></label>
                  <div class="col-md-7">
                    <input class="form-control" type="text" id="Account" name="account" placeholder="Choose a nice account..." />
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-md-4 control-label" for="Password">Password <span class="text-orange">*</span></label>
                  <div class="col-md-7">
                    <input class="form-control" type="password" id="Password" name="password" placeholder="Choose a nice Password..." />
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-md-4 control-label" for="Name">Name <span class="text-orange">*</span></label>
                  <div class="col-md-7">
                    <input class="form-control" type="text" id="Name" name="name" placeholder="Choose a nice Name..." />
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-md-4 control-label" for="Photo">Photo <span class="text-orange">*</span></label>
                  <div class="col-md-7">
                    <input class="form-control" type="file" id="Photo" name="photoName" placeholder="Choose a nice account..." />
                  </div>
                </div>
                <div class="form-group">
                  <div class="col-md-7 col-md-offset-3">
                    <label for="user" class="css-input switch switch-sm switch-app ">
                        <input type="radio" id="user" name="role" value="1" checked/><span></span> 管理员</a>
                    </label>&nbsp;&nbsp;
                    <label for="admin" class="css-input switch switch-sm switch-app ">
                       <input type="radio" id="admin" name="role" value="2" /><span></span> 普通用户</a>
                    </label>
                  </div>
                </div>
                <div class="form-group m-b-0">
                  <div class="col-md-8 col-md-offset-5">
                    <button class="btn btn-app" type="submit" id="sum">保存</button>
                  </div>
                </div>
              </form>
            </div>
            <!-- .card-block -->
          </div>
          <!-- .card -->
          <!-- Bootstrap Forms Validation -->
        </div>
        <!-- .card -->
        <!-- End Material (floating) registration -->
      </div>
    </div>
  </div>
</div>
<!-- .col-lg-4 -->
<!-- End Apps Modal -->
<script src="/assets/js/core/jquery.min.js"></script>
<script src="/assets/js/core/bootstrap.min.js"></script>
<script src="/assets/js/core/jquery.slimscroll.min.js"></script>
<script src="/assets/js/core/jquery.scrollLock.min.js"></script>
<script src="/assets/js/core/jquery.placeholder.min.js"></script>
<script src="/assets/js/app.js"></script>
<script src="/assets/js/app-custom.js"></script>
<!-- Page Plugins -->
<script src="/assets/js/plugins/slick/slick.min.js"></script>
<script src="/assets/js/plugins/chartjs/Chart.min.js"></script>
<script src="/assets/js/plugins/flot/jquery.flot.min.js"></script>
<script src="/assets/js/plugins/flot/jquery.flot.pie.min.js"></script>
<script src="/assets/js/plugins/flot/jquery.flot.stack.min.js"></script>
<script src="/assets/js/plugins/flot/jquery.flot.resize.min.js"></script>
<script>
  $(function(){
    $("#search").click(function (){
      var keywords = $("#keywords").val();
      if (keywords==""){
        alert("请输入要查询的客户姓名！");
      }else {
        location.href = "/sysUser/queryName?keywords="+keywords;
      }
    });
    $("button[name=dele]").click(function(){
      var id = $(this).val();
      alert(id);
      if (confirm("确定要删除吗？")) {
        location.href = "/sysUser/del?id=" + id;
      }
    });
    $("#del").click(function (){
      let ids = "";
      $("input[name=chk]:checked").each(function (){
        ids += $(this).val() + ",";
      });
      if (ids==""){
        alert("请输入要删除的数据！");
      }else {
        if (confirm("确定要删除吗？")){
          location.href = "/sysUser/delete/"+ids.substring(0,ids.length-1);
        }
      }
    });

  });
</script>
</body>
</html>
